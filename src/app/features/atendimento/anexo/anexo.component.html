<p-dialog header="Anexar Arquivo"
  position="top" [(visible)]="displayModal"
  [style]="{width: '50vw'}">
  <form id="myFormAnexo" name="myFormAnexo" #myFormAnexo="ngForm" autocomplete="off">
    <div class="card">
      <div class="p-fluid p-formgrid p-grid">
        <div class="p-field p-col-12">
              <p-fileUpload name="anexo" [auto]="true" id="anexo"
              invalidFileSizeMessageDetail="O tamanho máximo permitido de arquivos é de 10"
               [customUpload]="true" chooseLabel="Selecione o arquivo"   (uploadHandler)="carregaArquivo($event)"
               accept="image/*,application/*" [maxFileSize]="5000000">
              <ng-template pTemplate="content">
                  <ul *ngIf="uploadedFiles.length">
                      <li  *ngFor="let file of uploadedFiles">{{file.name}}</li>
                  </ul>
              </ng-template>
            </p-fileUpload>
          </div>
          <div class="p-field p-col-12">
          <p-table [value]="anexos" [responsive]="true">
            <ng-template pTemplate="header">
              <tr>
                <th style="width: 1px;"></th>
                <th style="width: 100px;">Nome do arquivo</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-anexo>
              <tr>
                <td>
                  <p-radioButton [(name)]="anexo.id" [(value)]="anexo.id" [(ngModel)]="idAnexoSelecao"
                    [(inputId)]="anexo.id"></p-radioButton>
                </td>
                <td>
                  {{anexo.nomeArquivo}}
                </td>
              </tr>
            </ng-template>
          </p-table>
          </div>
        </div>
    </div>
    <button pButton type="button" style="width: 100px;" (click)="excluirAnexo(idAnexoSelecao)"
    icon="pi pi-external-link" [disabled]="idAnexoSelecao == null" label="Excluir"></button>&nbsp;
    <button pButton type="button" label="Fechar" class="ui-button-secondary prime-button" (click)="onClose()"></button>
  </form>
</p-dialog>

